<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÑ MrMessage - –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
        }
        
        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid white;
            border-top: 5px solid #2ecc71;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
        <h2>–ó–∞–≥—Ä—É–∑–∫–∞ MrMessage...</h2>
    </div>

    <!-- –ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ —É–∫—Ä–∞—à–µ–Ω–∏—è -->
    <div class="snowflakes" aria-hidden="true">
        <div class="snowflake">‚ùÑ</div>
        <div class="snowflake">‚ùÖ</div>
        <div class="snowflake">‚ùÜ</div>
        <div class="snowflake">‚ùÑ</div>
        <div class="snowflake">‚ùÖ</div>
        <div class="snowflake">‚ùÜ</div>
    </div>

    <!-- –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –±–∞–Ω–Ω–µ—Ä -->
    <div class="new-year-banner animate__animated animate__bounceInDown" id="newYearBanner" style="display: none;">
        üéÑ –° –ù–æ–≤—ã–º –ì–æ–¥–æ–º! üéÖ
        <button onclick="hideBanner()" class="close-banner">√ó</button>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div class="app-container" id="appContainer" style="display: none;">
        <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
        <div id="authScreen" class="screen active">
            <div class="auth-container animate__animated animate__fadeIn">
                <div class="auth-header">
                    <div class="logo">
                        <i class="fas fa-comments"></i>
                        <h1>MrMessage</h1>
                    </div>
                    <p class="subtitle">–ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ üéÅ</p>
                </div>
                
                <div class="auth-forms">
                    <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
                    <div class="auth-form" id="loginForm">
                        <h2><i class="fas fa-sign-in-alt"></i> –í—Ö–æ–¥</h2>
                        <div class="error-message" id="authError" style="display: none;"></div>
                        
                        <div class="input-group">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="loginEmail" placeholder="Email" autocomplete="email" required>
                        </div>
                        
                        <div class="input-group">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å" autocomplete="current-password" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('loginPassword')"></i>
                        </div>
                        
                        <button class="auth-btn" onclick="login()" id="loginBtn">
                            <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
                        </button>
                        
                        <div class="auth-links">
                            <a href="javascript:void(0)" onclick="showForgotPassword()" class="forgot-link">
                                <i class="fas fa-key"></i> –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?
                            </a>
                            <a href="javascript:void(0)" onclick="showRegister()" class="switch-link">
                                <i class="fas fa-user-plus"></i> –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?
                            </a>
                        </div>
                    </div>
                    
                    <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
                    <div class="auth-form" id="registerForm" style="display: none;">
                        <h2><i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
                        <div class="error-message" id="regError" style="display: none;"></div>
                        
                        <div class="input-group">
                            <i class="fas fa-user"></i>
                            <input type="text" id="regUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" autocomplete="username" required>
                        </div>
                        
                        <div class="input-group">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="regEmail" placeholder="Email" autocomplete="email" required>
                        </div>
                        
                        <div class="input-group">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="regPassword" placeholder="–ü–∞—Ä–æ–ª—å" autocomplete="new-password" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('regPassword')"></i>
                        </div>
                        
                        <div class="input-group">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="regConfirmPassword" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="new-password" required>
                            <i class="fas fa-eye toggle-password" onclick="togglePassword('regConfirmPassword')"></i>
                        </div>
                        
                        <button class="auth-btn" onclick="register()" id="registerBtn">
                            <i class="fas fa-user-plus"></i> –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                        </button>
                        
                        <div class="auth-links">
                            <a href="javascript:void(0)" onclick="showLogin()" class="switch-link">
                                <i class="fas fa-sign-in-alt"></i> –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?
                            </a>
                        </div>
                    </div>
                    
                    <!-- –§–æ—Ä–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è -->
                    <div class="auth-form" id="forgotPasswordForm" style="display: none;">
                        <h2><i class="fas fa-key"></i> –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</h2>
                        <div class="error-message" id="forgotError" style="display: none;"></div>
                        
                        <div class="input-group">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="forgotEmail" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email" required>
                        </div>
                        
                        <button class="auth-btn" onclick="sendPasswordReset()" id="resetBtn">
                            <i class="fas fa-paper-plane"></i> –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                        </button>
                        
                        <div class="auth-links">
                            <a href="javascript:void(0)" onclick="showLogin()" class="switch-link">
                                <i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—Ö–æ–¥—É
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="auth-footer">
                    <p>üéÑ –ü—Ä–∞–∑–¥–Ω–∏—á–Ω–∞—è –≤–µ—Ä—Å–∏—è ‚Ä¢ 2026</p>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Å–ø–∏—Å–∫–∞ —á–∞—Ç–æ–≤ -->
        <div id="chatsScreen" class="screen">
            <div class="chats-container">
                <!-- –®–∞–ø–∫–∞ —á–∞—Ç–æ–≤ -->
                <div class="chats-header">
                    <div class="header-left">
                        <button class="header-btn theme-toggle" onclick="toggleTheme()" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">
                            <i class="fas fa-palette"></i>
                        </button>
                        <h2><i class="fas fa-comments"></i> –ú–æ–∏ —á–∞—Ç—ã</h2>
                    </div>
                    <div class="header-right">
                        <button class="header-btn" onclick="showProfileModal()" title="–ü—Ä–æ—Ñ–∏–ª—å">
                            <i class="fas fa-user"></i>
                        </button>
                        <button class="header-btn" onclick="logout()" title="–í—ã–π—Ç–∏">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
                
                <!-- –ü–æ–∏—Å–∫ —á–∞—Ç–æ–≤ -->
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchChats" placeholder="–ü–æ–∏—Å–∫ —á–∞—Ç–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π..." oninput="filterChats()">
                    <button class="search-btn" onclick="clearSearch()" title="–û—á–∏—Å—Ç–∏—Ç—å">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <!-- –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ -->
                <div class="chats-list" id="chatsList">
                    <div class="loading-chats">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ —á–∞—Ç–æ–≤...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —á–∞—Ç–∞ -->
        <div id="chatScreen" class="screen">
            <div class="chat-container">
                <!-- –®–∞–ø–∫–∞ —á–∞—Ç–∞ -->
                <div class="chat-header">
                    <button class="back-btn" onclick="showChatsList()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="chat-user-info">
                        <div class="chat-avatar-small" id="chatAvatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="chat-details">
                            <div class="chat-user-name" id="chatUserName">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                            <div class="chat-user-status" id="chatUserStatus">‚óè –æ–Ω–ª–∞–π–Ω</div>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <button class="action-btn" onclick="startVoiceCall()" title="–ê—É–¥–∏–æ –∑–≤–æ–Ω–æ–∫">
                            <i class="fas fa-phone"></i>
                        </button>
                        <button class="action-btn" onclick="startVideoCall()" title="–í–∏–¥–µ–æ –∑–≤–æ–Ω–æ–∫">
                            <i class="fas fa-video"></i>
                        </button>
                        <button class="action-btn" onclick="showChatInfo()" title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è">
                            <i class="fas fa-info-circle"></i>
                        </button>
                    </div>
                </div>
                
                <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
                <div class="messages-container" id="messagesContainer">
                    <div class="loading-messages">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π...</p>
                    </div>
                </div>
                
                <!-- –í–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è -->
                <div class="input-container">
                    <button class="attach-btn" onclick="showAttachMenu()" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    <input type="text" class="message-input" id="messageInput" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
                           onkeypress="handleKeyPress(event)">
                    <button class="voice-btn" onclick="toggleVoiceRecording()" title="–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- FAB –∫–Ω–æ–ø–∫–∞ -->
    <div class="fab-container" id="fabContainer" style="display: none;">
        <button class="fab-main" id="mainFab">
            <i class="fas fa-plus"></i>
        </button>
        <div class="fab-menu">
            <button class="fab-item" onclick="showNewChatModal()">
                <i class="fas fa-user-plus"></i>
                <span>–ù–æ–≤—ã–π —á–∞—Ç</span>
            </button>
            <button class="fab-item" onclick="showNewGroupModal()">
                <i class="fas fa-users"></i>
                <span>–ù–æ–≤–∞—è –≥—Ä—É–ø–ø–∞</span>
            </button>
            <button class="fab-item" onclick="showSearchModal()">
                <i class="fas fa-search"></i>
                <span>–ü–æ–∏—Å–∫</span>
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="modal-overlay" id="modalOverlay" style="display: none;"></div>
    
    <!-- –ú–æ–¥–∞–ª–∫–∞ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞ -->
    <div class="modal" id="newChatModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> –ù–æ–≤—ã–π —á–∞—Ç</h3>
                <button class="modal-close" onclick="hideModal('newChatModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchUser" placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è..." 
                           oninput="filterUsers()">
                </div>
                <div class="users-list" id="searchResults">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary-btn" onclick="hideModal('newChatModal')">
                    –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã -->
    <div class="modal" id="newGroupModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-users"></i> –ù–æ–≤–∞—è –≥—Ä—É–ø–ø–∞</h3>
                <button class="modal-close" onclick="hideModal('newGroupModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="group-form">
                    <div class="input-group">
                        <input type="text" id="groupName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã" required>
                    </div>
                    
                    <div class="group-avatar-upload" onclick="document.getElementById('groupAvatarInput').click()">
                        <div class="avatar-preview" id="groupAvatarPreview">
                            <i class="fas fa-camera"></i>
                        </div>
                        <input type="file" id="groupAvatarInput" accept="image/*" 
                               onchange="previewGroupAvatar(event)" style="display: none;">
                        <div class="avatar-label">–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä –≥—Ä—É–ø–ø—ã</div>
                    </div>
                    
                    <div class="members-section">
                        <h4>–í—ã–±–µ—Ä–∏—Ç–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:</h4>
                        <div class="members-list" id="groupMembersList">
                            <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn primary-btn" onclick="createGroup()">
                    <i class="fas fa-check"></i> –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
                </button>
                <button class="modal-btn secondary-btn" onclick="hideModal('newGroupModal')">
                    –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-user"></i> –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h3>
                <button class="modal-close" onclick="hideModal('profileModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="profile-section">
                    <div class="profile-avatar" onclick="document.getElementById('avatarInput').click()">
                        <div class="avatar-img" id="avatarPreview">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="avatar-edit">
                            <i class="fas fa-camera"></i>
                        </div>
                        <input type="file" id="avatarInput" accept="image/*" 
                               onchange="uploadAvatar(event)" style="display: none;">
                    </div>
                    
                    <div class="profile-form">
                        <div class="input-group">
                            <i class="fas fa-user"></i>
                            <input type="text" id="profileUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
                        </div>
                        
                        <div class="input-group">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="profileEmail" placeholder="Email" disabled>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn primary-btn" onclick="updateProfile()">
                    <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <button class="modal-btn secondary-btn" onclick="hideModal('profileModal')">
                    –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–∏—Å–∫–∞ -->
    <div class="modal" id="searchModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-search"></i> –ü–æ–∏—Å–∫</h3>
                <button class="modal-close" onclick="hideModal('searchModal')">√ó</button>
            </div>
            <div class="modal-body">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="globalSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ —á–∞—Ç–∞–º, —Å–æ–æ–±—â–µ–Ω–∏—è–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º...">
                </div>
                
                <div class="search-results" id="searchResultsContainer">
                    <div class="empty-state">
                        <i class="fas fa-search"></i>
                        <p>–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –∑–≤–æ–Ω–∫–∞ -->
    <div class="call-screen" id="callScreen" style="display: none;">
        <div class="call-container">
            <div class="call-header">
                <div class="call-info">
                    <div class="call-user-name" id="callUserName">–ó–≤–æ–Ω–æ–∫...</div>
                    <div class="call-status" id="callStatus">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ...</div>
                </div>
            </div>
            
            <div class="video-container">
                <video class="remote-video" id="remoteVideo" autoplay playsinline></video>
                <video class="local-video" id="localVideo" autoplay playsinline muted></video>
            </div>
            
            <div class="call-controls">
                <button class="call-btn mute-btn" onclick="toggleMute()">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="call-btn video-btn" onclick="toggleVideo()">
                    <i class="fas fa-video"></i>
                </button>
                <button class="call-btn end-call" onclick="endCall()">
                    <i class="fas fa-phone-slash"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- –ì–æ–ª–æ—Å–æ–≤–æ–π —Ä–µ–∫–æ—Ä–¥–µ—Ä -->
    <div class="voice-recorder" id="voiceRecorder" style="display: none;">
        <div class="recorder-container">
            <div class="recorder-header">
                <div class="recording-indicator">
                    <div class="pulse"></div>
                    <span>–ò–¥—ë—Ç –∑–∞–ø–∏—Å—å...</span>
                </div>
                <div class="voice-timer" id="voiceTimer">00:00</div>
            </div>
            
            <div class="voice-wave">
                <div class="wave-bar"></div>
                <div class="wave-bar"></div>
                <div class="wave-bar"></div>
                <div class="wave-bar"></div>
                <div class="wave-bar"></div>
            </div>
            
            <div class="recorder-controls">
                <button class="recorder-btn send-btn" onclick="stopVoiceRecording()">
                    <i class="fas fa-check"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å
                </button>
                <button class="recorder-btn cancel-btn" onclick="cancelVoiceRecording()">
                    <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç -->
    <script src="app.js"></script>
    
    <!-- –ê—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç -->
    <audio id="voicePlayer" style="display: none;"></audio>
    
    <script>
        // –ë—ã—Å—Ç—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        function hideLoadingScreen() {
            const loadingScreen = document.getElementById('loadingScreen');
            const appContainer = document.getElementById('appContainer');
            
            loadingScreen.style.opacity = '0';
            setTimeout(() => {
                loadingScreen.style.display = 'none';
                appContainer.style.display = 'block';
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–µ—Å—è—Ü –¥–ª—è –ø–æ–∫–∞–∑–∞ –±–∞–Ω–Ω–µ—Ä–∞
                const now = new Date();
                if (now.getMonth() === 11) { // –î–µ–∫–∞–±—Ä—å
                    setTimeout(() => {
                        document.getElementById('newYearBanner').style.display = 'block';
                    }, 1000);
                }
            }, 500);
        }
        
        function hideBanner() {
            document.getElementById('newYearBanner').style.display = 'none';
        }
        
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const icon = input.parentNode.querySelector('.toggle-password');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', () => {
            setTimeout(hideLoadingScreen, 1500);
        });
    </script>
</body>
</html>